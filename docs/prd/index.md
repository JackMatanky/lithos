# Product Requirements Document (PRD): Lithos CLI

## Table of Contents

- [Product Requirements Document (PRD): Lithos CLI](#table-of-contents)
  - [Goals and Background Context](./goals-and-background-context.md)
    - [Goals](./goals-and-background-context.md#goals)
    - [Background Context](./goals-and-background-context.md#background-context)
    - [Change Log](./goals-and-background-context.md#change-log)
  - [Requirements](./requirements.md)
    - [Functional](./requirements.md#functional)
      - [Core Engine & Templates](./requirements.md#core-engine-templates)
      - [Schema & Data](./requirements.md#schema-data)
      - [User Interaction](./requirements.md#user-interaction)
    - [Non-Functional](./requirements.md#non-functional)
  - [User Interface Design Goals](./user-interface-design-goals.md)
    - [Overall UX Vision](./user-interface-design-goals.md#overall-ux-vision)
    - [Key Interaction Paradigms](./user-interface-design-goals.md#key-interaction-paradigms)
    - [Core Commands (MVP)](./user-interface-design-goals.md#core-commands-mvp)
    - [Post-MVP Command Expansions](./user-interface-design-goals.md#post-mvp-command-expansions)
  - [Technical Assumptions](./technical-assumptions.md)
    - [Core Philosophy](./technical-assumptions.md#core-philosophy)
    - [Go Packages & Libraries](./technical-assumptions.md#go-packages-libraries)
  - [Epic List](./epic-list.md)
  - [Epic 1: Foundational CLI & Static Template Engine](./epic-1-foundational-cli-static-template-engine.md)
    - [Story 1.1: Establish Test Vault and Golden Files](./epic-1-foundational-cli-static-template-engine.md#story-11-establish-test-vault-and-golden-files)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.2: Foundational Project Setup](./epic-1-foundational-cli-static-template-engine.md#story-12-foundational-project-setup)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.3: Implement a Runnable  and Basic CI Build](./epic-1-foundational-cli-static-template-engine.md#story-13-implement-a-runnable-and-basic-ci-build)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.4: Integrate Cobra for Basic Command Structure](./epic-1-foundational-cli-static-template-engine.md#story-14-integrate-cobra-for-basic-command-structure)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.5: Add Placeholder  Command](./epic-1-foundational-cli-static-template-engine.md#story-15-add-placeholder-command)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.6: Implement Core Template File Reading](./epic-1-foundational-cli-static-template-engine.md#story-16-implement-core-template-file-reading)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.7: Implement Static Template Parsing](./epic-1-foundational-cli-static-template-engine.md#story-17-implement-static-template-parsing)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.8: Add Basic Date & String Functions to Template Engine](./epic-1-foundational-cli-static-template-engine.md#story-18-add-basic-date-string-functions-to-template-engine)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
    - [Story 1.9: Write Rendered Template to a New File](./epic-1-foundational-cli-static-template-engine.md#story-19-write-rendered-template-to-a-new-file)
      - [Acceptance Criteria](./epic-1-foundational-cli-static-template-engine.md#acceptance-criteria)
  - [Epic 2: Configuration & Schema Loading](./epic-2-configuration-schema-loading.md)
    - [Story 2.1: Integrate Viper for Configuration Management](./epic-2-configuration-schema-loading.md#story-21-integrate-viper-for-configuration-management)
      - [Acceptance Criteria](./epic-2-configuration-schema-loading.md#acceptance-criteria)
    - [Story 2.2: Define Core Schema Data Structures](./epic-2-configuration-schema-loading.md#story-22-define-core-schema-data-structures)
      - [Acceptance Criteria](./epic-2-configuration-schema-loading.md#acceptance-criteria)
    - [Story 2.3: Load and Parse Schema Files](./epic-2-configuration-schema-loading.md#story-23-load-and-parse-schema-files)
      - [Acceptance Criteria](./epic-2-configuration-schema-loading.md#acceptance-criteria)
    - [Story 2.4: Implement Single-Level Schema Inheritance](./epic-2-configuration-schema-loading.md#story-24-implement-single-level-schema-inheritance)
      - [Acceptance Criteria](./epic-2-configuration-schema-loading.md#acceptance-criteria)
    - [Story 2.5: Implement Multi-Level Schema Inheritance](./epic-2-configuration-schema-loading.md#story-25-implement-multi-level-schema-inheritance)
      - [Acceptance Criteria](./epic-2-configuration-schema-loading.md#acceptance-criteria)
    - [Story 2.6: Add Circular Dependency Detection for Schemas](./epic-2-configuration-schema-loading.md#story-26-add-circular-dependency-detection-for-schemas)
      - [Acceptance Criteria](./epic-2-configuration-schema-loading.md#acceptance-criteria)
  - [Epic 3: Vault Indexing Engine](./epic-3-vault-indexing-engine.md)
    - [Story 3.1: Define the Storage Interface and Note Struct](./epic-3-vault-indexing-engine.md#story-31-define-the-storage-interface-and-note-struct)
      - [Acceptance Criteria](./epic-3-vault-indexing-engine.md#acceptance-criteria)
    - [Story 3.2: Implement a File-Based Cache](./epic-3-vault-indexing-engine.md#story-32-implement-a-file-based-cache)
      - [Acceptance Criteria](./epic-3-vault-indexing-engine.md#acceptance-criteria)
    - [Story 3.3: Implement the Vault Scanner Utility](./epic-3-vault-indexing-engine.md#story-33-implement-the-vault-scanner-utility)
      - [Acceptance Criteria](./epic-3-vault-indexing-engine.md#acceptance-criteria)
    - [Story 3.4: Implement the Frontmatter Parser Utility](./epic-3-vault-indexing-engine.md#story-34-implement-the-frontmatter-parser-utility)
      - [Acceptance Criteria](./epic-3-vault-indexing-engine.md#acceptance-criteria)
    - [Story 3.5: Implement the  Command Logic](./epic-3-vault-indexing-engine.md#story-35-implement-the-command-logic)
      - [Acceptance Criteria](./epic-3-vault-indexing-engine.md#acceptance-criteria)
    - [Story 3.6: Version and Migrate Cache Artifacts](./epic-3-vault-indexing-engine.md#story-36-version-and-migrate-cache-artifacts)
      - [Acceptance Criteria](./epic-3-vault-indexing-engine.md#acceptance-criteria)
  - [Epic 4: Interactive Input Engine](./epic-4-interactive-input-engine.md)
    - [Story 4.1: Implement Test Harness for Interactive CLI Components](./epic-4-interactive-input-engine.md#story-41-implement-test-harness-for-interactive-cli-components)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.2: Integrate Fuzzy Finder Library](./epic-4-interactive-input-engine.md#story-42-integrate-fuzzy-finder-library)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.3: Add Placeholder  Command](./epic-4-interactive-input-engine.md#story-43-add-placeholder-command)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.4: Implement Template Lister Utility](./epic-4-interactive-input-engine.md#story-44-implement-template-lister-utility)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.5: Implement  Command Logic](./epic-4-interactive-input-engine.md#story-45-implement-command-logic)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.6: Implement Fuzzy Finding in  Command](./epic-4-interactive-input-engine.md#story-46-implement-fuzzy-finding-in-command)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.7: Integrate Prompt Library](./epic-4-interactive-input-engine.md#story-47-integrate-prompt-library)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.8: Define Interactive Engine Interface](./epic-4-interactive-input-engine.md#story-48-define-interactive-engine-interface)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.9: Pass Interactive Session to Template Engine](./epic-4-interactive-input-engine.md#story-49-pass-interactive-session-to-template-engine)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.10: Implement  Template Function](./epic-4-interactive-input-engine.md#story-410-implement-template-function)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
    - [Story 4.11: Implement  Template Function](./epic-4-interactive-input-engine.md#story-411-implement-template-function)
      - [Acceptance Criteria](./epic-4-interactive-input-engine.md#acceptance-criteria)
  - [Epic 5: Schema-Driven Lookups & Validation](./epic-5-schema-driven-lookups-validation.md)
    - [Story 5.1: Define Generic Query Engine](./epic-5-schema-driven-lookups-validation.md#story-51-define-generic-query-engine)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.2: Implement  Filter](./epic-5-schema-driven-lookups-validation.md#story-52-implement-filter)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.3: Implement  and  Template Functions](./epic-5-schema-driven-lookups-validation.md#story-53-implement-and-template-functions)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.4: Enhance  to Handle Map Input](./epic-5-schema-driven-lookups-validation.md#story-54-enhance-to-handle-map-input)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.5: Implement Validator Scaffolding](./epic-5-schema-driven-lookups-validation.md#story-55-implement-validator-scaffolding)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.6: Implement "Required Field" Validation Rule](./epic-5-schema-driven-lookups-validation.md#story-56-implement-required-field-validation-rule)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.7: Implement "Simple Type" Validation Rule](./epic-5-schema-driven-lookups-validation.md#story-57-implement-simple-type-validation-rule)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
    - [Story 5.8: Add Post-Generation Validation to  Command](./epic-5-schema-driven-lookups-validation.md#story-58-add-post-generation-validation-to-command)
      - [Acceptance Criteria](./epic-5-schema-driven-lookups-validation.md#acceptance-criteria)
  - [Next Steps](./next-steps.md)
    - [UX Expert Prompt](./next-steps.md#ux-expert-prompt)
    - [Architect Prompt](./next-steps.md#architect-prompt)
